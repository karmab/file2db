{
	"kind": "Template",
	"apiVersion": "v1",
	"metadata": {
		"name": "file2db",
		"annotations": {
			"description": "File2-db",
			"tags": "file2db",
			"iconClass": "icon-python"
		}
	},
	"labels": {
		"template": "file2db"
	},
	"objects": [{
		"kind": "Service",
		"apiVersion": "v1",
		"metadata": {
			"name": "${APPNAME}",
			"annotations": {
				"description": "Exposes and load balances the application pods"
			}
		},
		"spec": {
			"ports": [{
				"name": "file2db",
				"port": 9000,
				"targetPort": 9000
			}],
			"selector": {
				"name": "${APPNAME}"
			}
		}
	}, {
		"kind": "Route",
		"apiVersion": "v1",
		"metadata": {
			"name": "${APPNAME}"
		},
		"spec": {
			"host": "",
			"to": {
				"kind": "Service",
				"name": "${APPNAME}"
			}
		}
	}, {
		"kind": "Pod",
		"apiVersion": "v1",
		"metadata": {
			"name": "file2db",
			"creationTimestamp": null,
			"labels": {
				"name": "file2db"
			}
		},
		"spec": {
			"containers": [{
				"name": "file2db",
				"image": "karmab/file2db:latest",
				"ports": [{
					"containerPort": 9000,
					"protocol": "TCP"
				}],
				"resources": {},
				"volumeMounts": [{
					"name": "file2dbdata",
					"mountPath": "/opt/file2db/data"
				}],
				"terminationMessagePath": "/dev/termination-log",
				"imagePullPolicy": "IfNotPresent",
				"capabilities": {},
				"securityContext": {
					"capabilities": {},
					"privileged": false
				},

				"env": [{
					"name": "DATAPATH",
					"value": "${DATAPATH}"
				}, {
					"name": "KEY",
					"value": "${KEY}"
				}, {
					"name": "NAME",
					"value": "${NAME}"
				}, {
					"name": "CONTENT",
					"value": "${CONTENT}"
				}, {
					"name": "DBDRIVER",
					"value": "${DBDRIVER}"
				}, {
					"name": "DBHOST",
					"value": "${DBHOST}"
				}, {
					"name": "DBPORT",
					"value": "${DBPORT}"
				}, {
					"name": "DBUSERNAME",
					"value": "${DBUSERNAME}"
				}, {
					"name": "DBPASSWORD",
					"value": "${DBPASSWORD}"
				}, {
					"name": "DBNAME",
					"value": "${DBNAME}"
				}, {
					"name": "DBPTABLE",
					"value": "${DBTABLE}"
				}, {
					"name": "DEBUG",
					"value": "${DEBUG}"
				}, {
					"name": "PORT",
					"value": "${PORT}"
				}],
				"volumes": [{
					"name": "file2dbdata",
					"emptyDir": {}
				}],
				"restartPolicy": "Always",
				"dnsPolicy": "ClusterFirst",
				"serviceAccount": ""
			}],
			"parameters": [{
				"name": "APPNAME",
				"displayName": "AppName",
				"description": "The name assigned to all of the frontend objects defined in this template.",
				"required": true,
				"value": "file2db"
			}, {
				"name": "DATAPATH",
				"displayName": "Datapath"
			}, {
				"name": "KEY",
				"displayName": "Primary Key to use",
				"value": "id"
			}, {
				"name": "NAME",
				"displayName": "NAME",
				"value": "name"
			}, {
				"name": "CONTENT",
				"displayName": "CONTENT"
			}, {
				"name": "DBDRIVER",
				"displayName": "Database Engine",
				"description": "Database engine: postgresql, mysql or sqlite (default).",
				"value": "postgresql"
			}, {
				"name": "DBHOST",
				"displayName": "DBHOST"
			}, {
				"name": "DBPORT",
				"displayName": "DBPORT",
				"value": "5432"
			}, {
				"name": "DBUSERNAME",
				"displayName": "DBUSERNAME"
			}, {
				"name": "DBPASSWORD",
				"displayName": "DBPASSWORD"
			}, {
				"name": "DBNAME",
				"displayName": "DBNAME"
			}, {
				"name": "DBTABLE",
				"displayName": "DBTABLE"
			}, {
				"name": "DEBUG",
				"displayName": "DEBUG",
				"value": "True"
			}, {
				"name": "PORT",
				"displayName": "PORT",
				"value": "9000"
			}]
		}
	}]
}
